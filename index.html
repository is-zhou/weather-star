<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      天气星人官方网站！
    </title>
    <meta name="description" content=" 天气星人官方网站，天气网站，天气软件" />
    <meta
      name="keywords"
      content="天气星人，天气预报，天气，生活贴士，星座，温馨提示，炫酷天气，GPS定位"
    />
    <link rel="shortcut icon" href="./img/favicon.ico" />
    <link rel="stylesheet" href="./css/base.css" />
    <link rel="stylesheet" href="./css/index.css" />
  </head>
  <body>
    <div class="main">
      <div class="header">
        <div>
          <h1>
            <img
              src="./img/sun-smile-glasses-icon_128.png"
              alt="天气星人"
            />天气星人
          </h1>
        </div>
        <div>
          <div class="searchBox">
            <div class=""></div>
            <input type="search" id="inputCity" placeholder="请输入城市" value="北京 北京市" />
          </div>
          <div id="addressList" class="addressList">
            <div class="hotAddr">
            <p>当前定位</p>
            <p class="city">北京  北京市</p>
            <p>热门城市</p>
              <ul id="ls-hot-city" class="ls-city">  
                <li class="opts" data-province="北京" data-city="北京"><span>北京</span></li>    
                <li class="opts" data-province="上海" data-city="上海"><span>上海</span></li>    
                <li class="opts" data-province="广东" data-city="广州"><span>广州</span></li>    
                <li class="opts" data-province="广东" data-city="深圳"><span>深圳</span></li>    
                <li class="opts" data-province="天津" data-city="天津"><span>天津</span></li>    
                <li class="opts" data-province="陕西" data-city="西安"><span>西安</span></li>    
                <li class="opts" data-province="湖北" data-city="武汉"><span>武汉</span></li>    
                <li class="opts" data-province="四川" data-city="成都"><span>成都</span></li>    
                <li class="opts" data-province="河北" data-city="石家庄"><span>石家庄</span></li>    
                <li class="opts" data-province="河南" data-city="郑州"><span>郑州</span></li>    
                <li class="opts" data-province="黑龙江" data-city="哈尔滨"><span>哈尔滨</span></li>    
                <li class="opts" data-province="山西" data-city="太原"><span>太原</span></li>    
                <li class="opts" data-province="新疆" data-city="乌鲁木齐"><span>乌鲁木齐</span></li>    
                <li class="opts" data-province="山东" data-city="济南"><span>济南</span></li>    
                <li class="opts" data-province="福建" data-city="福州"><span>福州</span></li>    
                <li class="opts" data-province="西藏" data-city="日喀则"><span>日喀则</span></li>    
                <li class="opts" data-province="福建" data-city="厦门"><span>厦门</span></li>    
                <li class="opts" data-province="山东" data-city="青岛"><span>青岛</span></li>    
                <li class="opts" data-province="江苏" data-city="扬州"><span>扬州</span></li>    
                <li class="opts" data-province="安徽" data-city="合肥"><span>合肥</span></li>    
                <li class="opts" data-province="重庆" data-city="重庆"><span>重庆</span></li>    
                <li class="opts" data-province="江西" data-city="南昌"><span>南昌</span></li>    
                <li class="opts" data-province="河北" data-city="唐山"><span>唐山</span></li>    
                <li class="opts" data-province="浙江" data-city="杭州"><span>杭州</span></li>    
                <li class="opts" data-province="河北" data-city="邢台"><span>邢台</span></li>    
                <li class="opts" data-province="辽宁" data-city="沈阳"><span>沈阳</span></li>    
                <li class="opts" data-province="河北" data-city="邯郸"><span>邯郸</span></li>    
                <li class="opts" data-province="云南" data-city="昆明"><span>昆明</span></li>  
            </ul>
            <ul id="ls-data-city" class="ls-data-city">  </ul>
          </div>
          </div>
        </div>
      </div>
      <div class="weatherInfoBox">
        <div>
          <div class="dateInfoBox">
            <div class="date">2020年3月31日</div>
            <div class="more">更多</div>
          </div>
          <div class="weather">
            <div>
              <ul>
                <li>昨天</li>
                <li>3月30日</li>
                <li>℃</li>
                <li><img src="./img/w0.png" alt="" width="50%" /></li>
                <li>晴</li>
                <li>风</li>
                <li></li>
              </ul>
            </div>
            <div>
              <ul>
                <li>今天</li>
                <li>3月31日</li>
                <li>℃</li>
                <li><img src="./img/w0.png" alt="" width="50%" /></li>
                <li>晴</li>
                <li>风</li>
                <li></li>
              </ul>
            </div>
            <div>
              <ul>
                <li>明天</li>
                <li>4月1日</li>
                <li>℃</li>
                <li><img src="./img/w1.png" alt="" width="50%" /></li>
                <li>晴</li>
                <li>风</li>
                <li></li>
              </ul>
            </div>
            <div>
              <ul>
                <li>周四</li>
                <li>4月2日</li>
                <li>℃</li>
                <li><img src="./img/w0.png" alt="" width="50%" /></li>
                <li>晴</li>
                <li>风</li>
                <li></li>
              </ul>
            </div>
            <div>
              <ul>
                <li>周五</li>
                <li>4月3日</li>
                <li>℃</li>
                <li><img src="./img/w7.png" alt="" width="50%" /></li>
                <li>晴</li>
                <li>风</li>
                <li></li>
              </ul>
            </div>
            <div>
              <ul>
                <li>周五</li>
                <li>4月3日</li>
                <li>℃</li>
                <li><img src="./img/w0.png" alt="" width="50%" /></li>
                <li>晴</li>
                <li>风</li>
                <li></li>
              </ul>
            </div>
            <div>
              <ul>
                <li>周五</li>
                <li>4月3日</li>
                <li>℃</li>
                <li><img src="./img/w0.png" alt="" width="50%" /></li>
                <li>晴</li>
                <li>风</li>
                <li></li>
              </ul>
            </div>
          </div>
        </div>
        </div>
        <div>

        </div>
        <!-- <video autoplay loop src="..//Stock.mp4"></video> -->
      </div>
    </div>

    <script src="./js/jQuery 3.4.1.min.js"></script>
    <script src="./template/template-web.js"></script>
    <script id="addrtemp" type="text/html">
   {{each address.data}}
      <li><span> {{$value}}</span></li>    
  {{/each}}
    </script>
    <script id="addrtemp2" type="text/html">
     
         <li><span> {{msg}}</span></li>    
    </script>
   
    <script>
      var inputCity=document.getElementById("inputCity");
      var addressList=document.getElementById("addressList");
      var lshotcity=document.getElementById("ls-hot-city");
      var lsdatacity=document.getElementById("ls-data-city");
      
      var timeoutID="";
      inputCity.onfocus=function(){
        addressList.style.display="block";
      }
      inputCity.onblur=function(){
        addressList.style.display="none";
      }
      inputCity.oninput=function(){
        clearTimeout(timeoutID);
        var cityName=this.value;
        if(cityName==""){
            return;
        }
        timeoutID=setTimeout(()=>{
          ajax({url:"https://wis.qq.com/city/like?",
          data:{city:cityName},
          successs:function(address){
            var html="";
            if(JSON.stringify(address.data)!="{}"){
              html=template('addrtemp',{address:address});
              
            }else{
              html=template('addrtemp2',{msg:"未搜索到"});
            }
            lshotcity.style.display="none";
            lsdatacity.innerHTML=html
            console.log(html);
            
          }
        })
        },1000);
      };
      function ajax(options) {
        var script=document.createElement('script');
        var params="";
        for (const attar in options.data) {
          params+="source=pc&"+attar+"="+options.data[attar]+"&";
        }
        var callbackName="weatherStar"+Math.random().toString().replace(".","");
        window[callbackName] =options.successs;
        script.src=options.url+params+"callback="+callbackName;
        document.body.appendChild(script);
      }

      
    </script>
  </body>
</html>
